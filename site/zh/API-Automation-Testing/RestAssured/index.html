
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An organization made by QA, for QA.
A QUICKSTART project for QA automation testing, including common test frameworks and tools, as well as some common test demo.">
      
      
        <meta name="author" content="Automation Test Starter">
      
      
        <link rel="canonical" href="https://automation-test-starter.pages.dev/zh/API-Automation-Testing/RestAssured/">
      
      
        <link rel="prev" href="../SuperTest/">
      
      
        <link rel="next" href="../Pytest/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>RestAssured - Automation Test Starter</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-K091G8C97F"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-K091G8C97F",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-K091G8C97F",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#restassured" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../" title="Automation Test Starter" class="md-header__button md-logo" aria-label="Automation Test Starter" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Automation Test Starter
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              RestAssured
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="选择当前语言">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../API-Automation-Testing/RestAssured/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="zh" class="md-select__link">
              中文
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/Automation-Test-Starter/Organization-Docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Automation-Test-Starter/Organization-Docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../SuperTest/" class="md-tabs__link">
          
  
  API Automation Testing

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Performance-Testing/Gatling/" class="md-tabs__link">
          
  
  Performance Testing

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../" title="Automation Test Starter" class="md-nav__button md-logo" aria-label="Automation Test Starter" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Automation Test Starter
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Automation-Test-Starter/Organization-Docs" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Automation-Test-Starter/Organization-Docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    API Automation Testing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API Automation Testing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../SuperTest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SuperTest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    RestAssured
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    RestAssured
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#restassured_1" class="md-nav__link">
    RestAssured 介绍
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    项目结构
  </a>
  
    <nav class="md-nav" aria-label="项目结构">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradle" class="md-nav__link">
    Gradle 构建的版本
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maven" class="md-nav__link">
    Maven 构建的版本
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    项目依赖
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0-1-rest-assured" class="md-nav__link">
    从 0 到 1 搭建 REST Assured 接口测试项目
  </a>
  
    <nav class="md-nav" aria-label="从 0 到 1 搭建 REST Assured 接口测试项目">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradle_1" class="md-nav__link">
    Gradle 版本
  </a>
  
    <nav class="md-nav" aria-label="Gradle 版本">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradle_2" class="md-nav__link">
    创建一个空的 Gradle 工程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buildgradle" class="md-nav__link">
    配置项目 build.gradle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testngxml" class="md-nav__link">
    testng.xml 配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gradle-build" class="md-nav__link">
    gradle build 项目并初始化
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    初始化目录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo" class="md-nav__link">
    demo 测试接口
  </a>
  
    <nav class="md-nav" aria-label="demo 测试接口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    Get 接口
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post" class="md-nav__link">
    Post 接口
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    编写脚本
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    调试脚本
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    查看测试报告
  </a>
  
    <nav class="md-nav" aria-label="查看测试报告">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    命令行报告
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testng-html" class="md-nav__link">
    testng html 报告
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maven_1" class="md-nav__link">
    Maven 版本
  </a>
  
    <nav class="md-nav" aria-label="Maven 版本">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maven_2" class="md-nav__link">
    创建一个空的 Maven 工程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pomxml" class="md-nav__link">
    配置项目 pom.xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testngxml_1" class="md-nav__link">
    testng.xml 配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    初始化目录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo_1" class="md-nav__link">
    demo 测试接口
  </a>
  
    <nav class="md-nav" aria-label="demo 测试接口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_1" class="md-nav__link">
    Get 接口
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post_1" class="md-nav__link">
    Post 接口
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    编写脚本
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    调试脚本
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    查看测试报告
  </a>
  
    <nav class="md-nav" aria-label="查看测试报告">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    命令行报告
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testng-html_1" class="md-nav__link">
    testng html 报告
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    进阶用法
  </a>
  
    <nav class="md-nav" aria-label="进阶用法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    验证响应数据
  </a>
  
    <nav class="md-nav" aria-label="验证响应数据">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    响应体断言
  </a>
  
    <nav class="md-nav" aria-label="响应体断言">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    json 格式断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xml" class="md-nav__link">
    xml 格式断言
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookie" class="md-nav__link">
    Cookie 断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-code" class="md-nav__link">
    状态码 Status Code 断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#header" class="md-nav__link">
    Header 断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-type" class="md-nav__link">
    Content-Type 断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    内容全匹配断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    响应时间断言
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    文件上传
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    Logging 日志
  </a>
  
    <nav class="md-nav" aria-label="Logging 日志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    全局日志配置
  </a>
  
    <nav class="md-nav" aria-label="全局日志配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    添加全局日志步骤
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    全局日志代码示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    查看全局日志输出
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    局部日志配置
  </a>
  
    <nav class="md-nav" aria-label="局部日志配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    添加日志步骤
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    查看局部日志输出
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logconfig" class="md-nav__link">
    LogConfig 配置说明
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-logging" class="md-nav__link">
    Request Logging 请求日志记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-logging" class="md-nav__link">
    Response Logging 响应日志记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    只在验证失败时记录日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#header_1" class="md-nav__link">
    Header 黑名单配置
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filters" class="md-nav__link">
    Filters 过滤器
  </a>
  
    <nav class="md-nav" aria-label="Filters 过滤器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ordered-filters" class="md-nav__link">
    Ordered Filters 有序过滤器
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-builder" class="md-nav__link">
    Response Builder 响应生成器
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    持续集成
  </a>
  
    <nav class="md-nav" aria-label="持续集成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github-action" class="md-nav__link">
    接入 github action
  </a>
  
    <nav class="md-nav" aria-label="接入 github action">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradle-github-action" class="md-nav__link">
    Gradle 版本接入 github action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maven-github-action" class="md-nav__link">
    Maven 版本接入 github action
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allure" class="md-nav__link">
    集成 allure 测试报告
  </a>
  
    <nav class="md-nav" aria-label="集成 allure 测试报告">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allure_1" class="md-nav__link">
    allure 简介
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    集成步骤
  </a>
  
    <nav class="md-nav" aria-label="集成步骤">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maven-allure" class="md-nav__link">
    Maven 版本集成 allure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gradle-allure" class="md-nav__link">
    Gradle 版本集成 allure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    参考资料
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Pytest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pytest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Bruno/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bruno
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Postman/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postman
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Performance Testing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Performance Testing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Performance-Testing/Gatling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gatling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#restassured_1" class="md-nav__link">
    RestAssured 介绍
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    项目结构
  </a>
  
    <nav class="md-nav" aria-label="项目结构">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradle" class="md-nav__link">
    Gradle 构建的版本
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maven" class="md-nav__link">
    Maven 构建的版本
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    项目依赖
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0-1-rest-assured" class="md-nav__link">
    从 0 到 1 搭建 REST Assured 接口测试项目
  </a>
  
    <nav class="md-nav" aria-label="从 0 到 1 搭建 REST Assured 接口测试项目">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradle_1" class="md-nav__link">
    Gradle 版本
  </a>
  
    <nav class="md-nav" aria-label="Gradle 版本">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradle_2" class="md-nav__link">
    创建一个空的 Gradle 工程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buildgradle" class="md-nav__link">
    配置项目 build.gradle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testngxml" class="md-nav__link">
    testng.xml 配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gradle-build" class="md-nav__link">
    gradle build 项目并初始化
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    初始化目录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo" class="md-nav__link">
    demo 测试接口
  </a>
  
    <nav class="md-nav" aria-label="demo 测试接口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    Get 接口
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post" class="md-nav__link">
    Post 接口
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    编写脚本
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    调试脚本
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    查看测试报告
  </a>
  
    <nav class="md-nav" aria-label="查看测试报告">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    命令行报告
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testng-html" class="md-nav__link">
    testng html 报告
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maven_1" class="md-nav__link">
    Maven 版本
  </a>
  
    <nav class="md-nav" aria-label="Maven 版本">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maven_2" class="md-nav__link">
    创建一个空的 Maven 工程
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pomxml" class="md-nav__link">
    配置项目 pom.xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testngxml_1" class="md-nav__link">
    testng.xml 配置
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    初始化目录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo_1" class="md-nav__link">
    demo 测试接口
  </a>
  
    <nav class="md-nav" aria-label="demo 测试接口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_1" class="md-nav__link">
    Get 接口
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post_1" class="md-nav__link">
    Post 接口
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    编写脚本
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    调试脚本
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    查看测试报告
  </a>
  
    <nav class="md-nav" aria-label="查看测试报告">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    命令行报告
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testng-html_1" class="md-nav__link">
    testng html 报告
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    进阶用法
  </a>
  
    <nav class="md-nav" aria-label="进阶用法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    验证响应数据
  </a>
  
    <nav class="md-nav" aria-label="验证响应数据">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    响应体断言
  </a>
  
    <nav class="md-nav" aria-label="响应体断言">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    json 格式断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xml" class="md-nav__link">
    xml 格式断言
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cookie" class="md-nav__link">
    Cookie 断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-code" class="md-nav__link">
    状态码 Status Code 断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#header" class="md-nav__link">
    Header 断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-type" class="md-nav__link">
    Content-Type 断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    内容全匹配断言
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    响应时间断言
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    文件上传
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    Logging 日志
  </a>
  
    <nav class="md-nav" aria-label="Logging 日志">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    全局日志配置
  </a>
  
    <nav class="md-nav" aria-label="全局日志配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    添加全局日志步骤
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    全局日志代码示例
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    查看全局日志输出
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    局部日志配置
  </a>
  
    <nav class="md-nav" aria-label="局部日志配置">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    添加日志步骤
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    查看局部日志输出
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logconfig" class="md-nav__link">
    LogConfig 配置说明
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request-logging" class="md-nav__link">
    Request Logging 请求日志记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-logging" class="md-nav__link">
    Response Logging 响应日志记录
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    只在验证失败时记录日志
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#header_1" class="md-nav__link">
    Header 黑名单配置
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filters" class="md-nav__link">
    Filters 过滤器
  </a>
  
    <nav class="md-nav" aria-label="Filters 过滤器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ordered-filters" class="md-nav__link">
    Ordered Filters 有序过滤器
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-builder" class="md-nav__link">
    Response Builder 响应生成器
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    持续集成
  </a>
  
    <nav class="md-nav" aria-label="持续集成">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github-action" class="md-nav__link">
    接入 github action
  </a>
  
    <nav class="md-nav" aria-label="接入 github action">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gradle-github-action" class="md-nav__link">
    Gradle 版本接入 github action
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maven-github-action" class="md-nav__link">
    Maven 版本接入 github action
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#allure" class="md-nav__link">
    集成 allure 测试报告
  </a>
  
    <nav class="md-nav" aria-label="集成 allure 测试报告">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#allure_1" class="md-nav__link">
    allure 简介
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    集成步骤
  </a>
  
    <nav class="md-nav" aria-label="集成步骤">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maven-allure" class="md-nav__link">
    Maven 版本集成 allure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gradle-allure" class="md-nav__link">
    Gradle 版本集成 allure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    参考资料
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="restassured">RestAssured</h1>
<p>关于使用 RestAssured 进行 API 测试的快速启动项目介绍文档。</p>
<h2 id="restassured_1">RestAssured 介绍</h2>
<p>REST Assured 是一种用于测试 RESTful API 的 Java 测试框架，它使开发人员/测试人员能够轻松地编写和执行 API 测试。它的设计旨在使 API 测试变得简单和直观，同时提供了丰富的功能和灵活性。以下是 REST Assured 的一些重要特点和用法：</p>
<ol>
<li>
<p>发起 HTTP 请求：REST Assured 允许你轻松地构建和发起 HTTP GET、POST、PUT、DELETE 等类型的请求。你可以指定请求的 URL、头部、参数、体等信息。</p>
</li>
<li>
<p>链式语法：REST Assured 使用链式语法，使测试代码更加可读和易于编写。你可以按照一种自然的方式描述你的测试用例，而不需要编写大量的代码。</p>
</li>
<li>
<p>断言和校验：REST Assured 提供了丰富的校验方法，可以用于验证 API 响应的状态码、响应体、响应头等。你可以根据你的测试需求添加多个断言。</p>
</li>
<li>
<p>支持多种数据格式：REST Assured 支持多种数据格式，包括 JSON、XML、HTML、Text 等。你可以使用适当的方法来处理不同格式的响应数据。</p>
</li>
<li>
<p>集成 BDD（行为驱动开发）：REST Assured 可以与 BDD 框架（如 Cucumber）结合使用，使你可以更好地描述和管理测试用例。</p>
</li>
<li>
<p>模拟 HTTP 服务器：REST Assured 还包括一个模拟 HTTP 服务器的功能，允许你模拟 API 的行为以进行端到端测试。</p>
</li>
<li>
<p>可扩展性：REST Assured 可以通过插件和扩展进行定制，以满足特定的测试需求。</p>
</li>
</ol>
<p>总的来说，REST Assured 是一个功能强大且易于使用的 API 测试框架，它可以帮助你轻松地进行 RESTful API 测试，并提供了许多工具来验证 API 的正确性和性能。无论是初学者还是有经验的开发人员/测试人员，REST Assured 都是一个非常有价值的工具，可用于快速的上手 API 自动化 测试。</p>
<h2 id="_1">项目结构</h2>
<h3 id="gradle">Gradle 构建的版本</h3>
<pre><code class="language-text">- src
  - main
    - java
      - (应用的主要源代码)
  - test
    - java
      - api
        - (REST Assured 测试代码)
          - UsersAPITest.java
          - ProductsAPITest.java
        - util
          - TestConfig.java
    - resources
      - (配置文件、测试数据等)
  - (其他项目文件和资源)
- build.gradle (Gradle 项目配置文件)
</code></pre>
<p>在这个示例目录结构中：</p>
<ul>
<li>src/test/java/api 目录用于存放 REST Assured 的测试类，每个测试类通常涉及到一个或多个相关的 API 端点的测试。例如，UsersAPITest.java 和 ProductsAPITest.java 可以包含用户管理和产品管理的测试。</li>
<li>src/test/java/util 目录可用于存放测试中共享的工具类，例如用于配置 REST Assured 的 TestConfig.java。</li>
<li>src/test/resources 目录可以包含测试数据文件、配置文件等资源，这些资源可以在测试中使用。</li>
<li>build.gradle 是 gradle 项目的配置文件，它用于定义项目的依赖项、构建配置以及其他项目设置。</li>
</ul>
<h3 id="maven">Maven 构建的版本</h3>
<pre><code class="language-text">- src
  - main
    - java
      - (应用的主要源代码)
  - test
    - java
      - api
        - (REST Assured 测试代码)
          - UsersAPITest.java
          - ProductsAPITest.java
        - util
          - TestConfig.java
    - resources
      - (配置文件、测试数据等)
  - (其他项目文件和资源)
- pom.xml (Maven 项目配置文件)
</code></pre>
<p>在这个示例目录结构中：</p>
<ul>
<li>src/test/java/api 目录用于存放 REST Assured 的测试类，每个测试类通常涉及到一个或多个相关的 API 端点的测试。例如，UsersAPITest.java 和 ProductsAPITest.java 可以包含用户管理和产品管理的测试。</li>
<li>src/test/java/util 目录可用于存放测试中共享的工具类，例如用于配置 REST Assured 的 TestConfig.java。</li>
<li>src/test/resources 目录可以包含测试数据文件、配置文件等资源，这些资源可以在测试中使用。</li>
<li>pom.xml 是 Maven 项目的配置文件，它用于定义项目的依赖项、构建配置以及其他项目设置。</li>
</ul>
<h2 id="_2">项目依赖</h2>
<ul>
<li>JDK 1.8+ ，我使用的 JDK 19</li>
<li>Gradle 6.0+ 或 Maven 3.0+，我使用的 Gradle 8.44 和 Maven 3.9.5</li>
<li>RestAssured 4.3.3+，我使用的是最新的 5.3.1 版本</li>
</ul>
<h2 id="0-1-rest-assured">从 0 到 1 搭建 REST Assured 接口测试项目</h2>
<p>REST Assured 支持 Gradle 和 Maven 两种构建工具，你可以根据自己的喜好选择其中一种。下面分别介绍 Gradle 和 Maven 两种构建工具的项目初始化过程。</p>
<p>本项目使用 Gradle 8.44 和 Maven 3.9.5 进行构建，如果你使用的是其他版本，可能会有不同。</p>
<h3 id="gradle_1">Gradle 版本</h3>
<p>可参考 demo 项目：<a href="https://github.com/Automation-Test-Starter/RestAssured-gradle-demo">https://github.com/Automation-Test-Starter/RestAssured-gradle-demo</a></p>
<h4 id="gradle_2">创建一个空的 Gradle 工程</h4>
<pre><code class="language-bash">mkdir RestAssured-gradle-demo
cd RestAssured-gradle-demo
gradle init
</code></pre>
<h4 id="buildgradle">配置项目 build.gradle</h4>
<p>demo 项目引入了 testNG 测试框架，仅供参考</p>
<ul>
<li>在项目根目录下创建一个 build.gradle 文件，用于配置项目</li>
<li>示例配置如下，可供参考</li>
</ul>
<pre><code class="language-groovy">// 插件配置
plugins {
    id 'java' // 使用 java 插件
}

// 仓库资源配置
repositories {
  mavenCentral() // 使用 maven中央版本库源
}

// 项目依赖配置
dependencies {
    testImplementation 'io.rest-assured:rest-assured:5.3.1' // 添加rest-assured依赖
    testImplementation 'org.testng:testng:7.8.0' // 添加TestNG测试框架依赖
    implementation 'org.uncommons:reportng:1.1.4' // 添加testng 测试报告依赖
    implementation 'org.slf4j:slf4j-api:2.0.9' // 添加测试日志依赖
    implementation 'org.slf4j:slf4j-simple:2.0.9' // 添加测试日志依赖
    implementation group: 'com.google.inject', name: 'guice', version: '7.0.0'
}

// 项目测试配置
test {
    reports.html.required = false // 禁用 gradle 原生HTML 报告生成
    reports.junitXml.required = false // 禁用 gradle 原生 JUnit XML 报告生成
    // 告诉 Gradle 使用 TestNG 作为测试框架
    useTestNG() {
        useDefaultListeners = true
        suites 'src/test/resources/testng.xml' // 声明 testng 的 xml 配置文件路径
    }
    testLogging.showStandardStreams = true // 将测试日志输出到控制台
    testLogging.events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot; // 定义测试日志事件类型
}
</code></pre>
<blockquote>
<p>可 copy 本项目中的 build.gradle 文件内容，更多配置可参考<a href="https://github.com/rest-assured/rest-assured/wiki/GettingStarted#rest-assured">官方文档</a></p>
</blockquote>
<h4 id="testngxml">testng.xml 配置</h4>
<ul>
<li>
<p>在 src/test目录下创建一个 resources 目录，用于存放测试配置文件</p>
</li>
<li>
<p>在 resources 目录下创建一个 testng.xml 文件，用于配置 TestNG 测试框架</p>
</li>
<li>
<p>示例配置如下，可供参考</p>
</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;
&lt;suite name=&quot;restAssured-gradleTestSuite&quot;&gt;
&lt;test thread-count=&quot;1&quot; name=&quot;Demo&quot;&gt;
    &lt;classes&gt;
        &lt;class name=&quot;com.example.TestDemo&quot;/&gt; &lt;!-- 测试脚本 class--&gt;
    &lt;/classes&gt;
&lt;/test&gt; &lt;!-- Test --&gt;
&lt;/suite&gt; &lt;!-- Suite --&gt;
</code></pre>
<h4 id="gradle-build">gradle build 项目并初始化</h4>
<ul>
<li>用编辑器打开本项目 Terminal 窗口，执行以下命令确认项目 build 成功</li>
</ul>
<pre><code class="language-bash">gradle build
</code></pre>
<ul>
<li>初始化完成：完成向导后，Gradle 将在项目目录中生成一个基本的 Gradle 项目结构</li>
</ul>
<h4 id="_3">初始化目录</h4>
<p>目录结构可参考 &gt;&gt; <a href="#项目结构">项目结构</a></p>
<p>在项目的测试源目录下创建一个新的测试类。默认情况下，Gradle 通常将测试源代码放在 src/test/java 目录中。你可以在该目录下创建测试类的包，并在包中创建新的测试类</p>
<p>创建一个 TestDemo 的测试类，可以按以下结构创建文件</p>
<pre><code class="language-text">src
└── test
    └── java
        └── com
            └── example
                └── TestDemo.java
</code></pre>
<h4 id="demo">demo 测试接口</h4>
<h5 id="get">Get 接口</h5>
<ul>
<li>HOST: https://jsonplaceholder.typicode.com</li>
<li>接口地址：/posts/1</li>
<li>请求方式：GET</li>
<li>请求参数：无</li>
<li>请求头："Content-Type": "application/json; charset=utf-8"</li>
<li>请求体：无</li>
<li>返回状态码：200</li>
<li>返回头："Content-Type": "application/json; charset=utf-8"</li>
<li>返回 body：</li>
</ul>
<pre><code class="language-json">{
    &quot;userId&quot;: 1,
    &quot;id&quot;: 1,
    &quot;title&quot;: &quot;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&quot;,
    &quot;body&quot;: &quot;quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto&quot;
}
</code></pre>
<h5 id="post">Post 接口</h5>
<ul>
<li>HOST: https://jsonplaceholder.typicode.com</li>
<li>接口地址：/posts</li>
<li>请求方式：POST</li>
<li>请求参数：无</li>
<li>请求头："Content-Type": "application/json; charset=utf-8"</li>
<li>请求体：raw json 格式 body 内容如下：</li>
</ul>
<pre><code class="language-json">{
    &quot;title&quot;: &quot;foo&quot;,
    &quot;body&quot;: &quot;bar&quot;,
    &quot;userId&quot;: 1
}
</code></pre>
<ul>
<li>返回状态码：201</li>
<li>返回头："Content-Type": "application/json; charset=utf-8"</li>
<li>返回 body：</li>
</ul>
<pre><code class="language-json">{
    &quot;title&quot;: &quot;foo&quot;,
    &quot;body&quot;: &quot;bar&quot;,
    &quot;userId&quot;: 1,
    &quot;id&quot;: 101
}
</code></pre>
<h4 id="_4">编写脚本</h4>
<ul>
<li>
<p>打开 TestDemo.java 文件，开始编写测试脚本</p>
</li>
<li>
<p>示例脚本如下，可供参考</p>
</li>
</ul>
<pre><code class="language-java">package com.example;

import org.testng.annotations.Test;

import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.equalTo;

public class TestDemo {

 @Test(description = &quot;Verify that the Get Post API returns correctly&quot;)
 public void verifyGetAPI() {

  // Given
  given()
    .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)
             .header(&quot;Content-Type&quot;, &quot;application/json&quot;)

  // When
  .when()
    .get(&quot;/posts/1&quot;)

  // Then
  .then()
    .statusCode(200)
    // To verify correct value
    .body(&quot;userId&quot;, equalTo(1))
    .body(&quot;id&quot;, equalTo(1))
    .body(&quot;title&quot;, equalTo(&quot;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&quot;))
    .body(&quot;body&quot;, equalTo(&quot;quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto&quot;));
 }
 @Test(description = &quot;Verify that the publish post API returns correctly&quot;)
 public void verifyPostAPI() {

  // Given
  given()
    .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)
    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)

    // When
    .when()
    .body(&quot;{\&quot;title\&quot;: \&quot;foo\&quot;, \&quot;body\&quot;: \&quot;bar\&quot;, \&quot;userId\&quot;: 1\n}&quot;)
    .post(&quot;/posts&quot;)

    // Then
    .then()
    .statusCode(201)
    // To verify correct value
    .body(&quot;userId&quot;, equalTo(1))
    .body(&quot;id&quot;, equalTo(101))
    .body(&quot;title&quot;, equalTo(&quot;foo&quot;))
    .body(&quot;body&quot;, equalTo(&quot;bar&quot;));
 }
}
</code></pre>
<h4 id="_5">调试脚本</h4>
<ul>
<li>打开本项目的 Terminal 窗口，执行以下命令运行测试脚本</li>
</ul>
<pre><code class="language-bash">gradle test
</code></pre>
<h4 id="_6">查看测试报告</h4>
<h5 id="_7">命令行报告</h5>
<p><img alt="gradle-test-report1" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/gradle-report1.png" /></p>
<h5 id="testng-html">testng html 报告</h5>
<ul>
<li>打开项目 build/reports/tests/test 目录</li>
<li>点击 index.html 文件，查看测试报告</li>
</ul>
<p><img alt="gradle-test-report2" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/gradle-report2.png" /></p>
<h3 id="maven_1">Maven 版本</h3>
<p>可参考 demo 项目：<a href="https://github.com/Automation-Test-Starter/RestAssured-maven-demo">https://github.com/Automation-Test-Starter/RestAssured-maven-demo</a></p>
<h4 id="maven_2">创建一个空的 Maven 工程</h4>
<pre><code class="language-bash">mvn archetype:generate -DgroupId=com.example -DartifactId=RestAssured-maven-demo -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false
</code></pre>
<p>初始化完成：完成向导后，Maven 将在新建项目目录并生成一个基本的 Maven 项目结构</p>
<h4 id="pomxml">配置项目 pom.xml</h4>
<p>在 项目中 pom.xml 文件中添加以下内容</p>
<blockquote>
<p>可 copy 本项目中的 pom.xml 文件内容，更多配置可参考<a href="https://github.com/rest-assured/rest-assured/wiki/GettingStarted#rest-assured">官方文档</a></p>
</blockquote>
<pre><code class="language-xml">&lt;!-- 依赖配置 --&gt;
  &lt;dependencies&gt;
    &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;
      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;
      &lt;version&gt;5.3.1&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.testng/testng --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.testng&lt;/groupId&gt;
      &lt;artifactId&gt;testng&lt;/artifactId&gt;
      &lt;version&gt;7.8.0&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  &lt;!-- 插件配置 --&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.2.1&lt;/version&gt;
        &lt;configuration&gt;
          &lt;suiteXmlFiles&gt;
            &lt;suiteXmlFile&gt;src/test/resources/testng.xml&lt;/suiteXmlFile&gt;
          &lt;/suiteXmlFiles&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
</code></pre>
<h4 id="testngxml_1">testng.xml 配置</h4>
<ul>
<li>
<p>在 src/test目录下创建一个 resources 目录，用于存放测试配置文件</p>
</li>
<li>
<p>在 resources 目录下创建一个 testng.xml 文件，用于配置 TestNG 测试框架</p>
</li>
<li>
<p>示例配置如下，可供参考</p>
</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;
&lt;suite name=&quot;restAssured-gradleTestSuite&quot;&gt;
&lt;test thread-count=&quot;1&quot; name=&quot;Demo&quot;&gt;
    &lt;classes&gt;
        &lt;class name=&quot;com.example.TestDemo&quot;/&gt; &lt;!-- 测试脚本 class--&gt;
    &lt;/classes&gt;
&lt;/test&gt; &lt;!-- Test --&gt;
&lt;/suite&gt; &lt;!-- Suite --&gt;
</code></pre>
<h4 id="_8">初始化目录</h4>
<p>目录结构可参考 &gt;&gt; <a href="#项目结构">项目结构</a></p>
<p>在项目的测试源目录下创建一个新的测试类。默认情况下，Gradle 通常将测试源代码放在 src/test/java 目录中。你可以在该目录下创建测试类的包，并在包中创建新的测试类</p>
<p>创建一个 TestDemo 的测试类，可以按以下结构创建文件</p>
<pre><code class="language-text">src
└── test
    └── java
        └── com
            └── example
                └── TestDemo.java
</code></pre>
<h4 id="demo_1">demo 测试接口</h4>
<h5 id="get_1">Get 接口</h5>
<ul>
<li>HOST: https://jsonplaceholder.typicode.com</li>
<li>接口地址：/posts/1</li>
<li>请求方式：GET</li>
<li>请求参数：无</li>
<li>请求头："Content-Type": "application/json; charset=utf-8"</li>
<li>请求体：无</li>
<li>返回状态码：200</li>
<li>返回头："Content-Type": "application/json; charset=utf-8"</li>
<li>返回 body：</li>
</ul>
<pre><code class="language-json">{
    &quot;userId&quot;: 1,
    &quot;id&quot;: 1,
    &quot;title&quot;: &quot;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&quot;,
    &quot;body&quot;: &quot;quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto&quot;
}
</code></pre>
<h5 id="post_1">Post 接口</h5>
<ul>
<li>HOST: https://jsonplaceholder.typicode.com</li>
<li>接口地址：/posts</li>
<li>请求方式：POST</li>
<li>请求参数：无</li>
<li>请求头："Content-Type": "application/json; charset=utf-8"</li>
<li>请求体：raw json 格式 body 内容如下：</li>
</ul>
<pre><code class="language-json">{
    &quot;title&quot;: &quot;foo&quot;,
    &quot;body&quot;: &quot;bar&quot;,
    &quot;userId&quot;: 1
}
</code></pre>
<ul>
<li>返回状态码：201</li>
<li>返回头："Content-Type": "application/json; charset=utf-8"</li>
<li>返回 body：</li>
</ul>
<pre><code class="language-json">{
    &quot;title&quot;: &quot;foo&quot;,
    &quot;body&quot;: &quot;bar&quot;,
    &quot;userId&quot;: 1,
    &quot;id&quot;: 101
}
</code></pre>
<h4 id="_9">编写脚本</h4>
<ul>
<li>
<p>打开 TestDemo.java 文件，开始编写测试脚本</p>
</li>
<li>
<p>示例脚本如下，可供参考</p>
</li>
</ul>
<pre><code class="language-java">package com.example;

import org.testng.annotations.Test;

import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.equalTo;

public class TestDemo {

 @Test(description = &quot;Verify that the Get Post API returns correctly&quot;)
 public void verifyGetAPI() {

  // Given
  given()
    .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)
             .header(&quot;Content-Type&quot;, &quot;application/json&quot;)

  // When
  .when()
    .get(&quot;/posts/1&quot;)

  // Then
  .then()
    .statusCode(200)
    // To verify correct value
    .body(&quot;userId&quot;, equalTo(1))
    .body(&quot;id&quot;, equalTo(1))
    .body(&quot;title&quot;, equalTo(&quot;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&quot;))
    .body(&quot;body&quot;, equalTo(&quot;quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto&quot;));
 }
 @Test(description = &quot;Verify that the publish post API returns correctly&quot;)
 public void verifyPostAPI() {

  // Given
  given()
    .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)
    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)

    // When
    .when()
    .body(&quot;{\&quot;title\&quot;: \&quot;foo\&quot;, \&quot;body\&quot;: \&quot;bar\&quot;, \&quot;userId\&quot;: 1\n}&quot;)
    .post(&quot;/posts&quot;)

    // Then
    .then()
    .statusCode(201)
    // To verify correct value
    .body(&quot;userId&quot;, equalTo(1))
    .body(&quot;id&quot;, equalTo(101))
    .body(&quot;title&quot;, equalTo(&quot;foo&quot;))
    .body(&quot;body&quot;, equalTo(&quot;bar&quot;));
 }
}
</code></pre>
<h4 id="_10">调试脚本</h4>
<ul>
<li>打开本项目的 Terminal 窗口，执行以下命令运行测试脚本</li>
</ul>
<pre><code class="language-bash">mvn test
</code></pre>
<h4 id="_11">查看测试报告</h4>
<h5 id="_12">命令行报告</h5>
<p><img alt="maven-test-report1" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/maven-report1.png" /></p>
<h5 id="testng-html_1">testng html 报告</h5>
<ul>
<li>打开项目 target/surefire-reports 目录</li>
<li>点击 index.html 文件，查看测试报告</li>
</ul>
<p><img alt="maven-test-report2" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/maven-report2.png" /></p>
<h2 id="_13">进阶用法</h2>
<h3 id="_14">验证响应数据</h3>
<p>您还可以验证状态码，状态行，Cookie，headers，内容类型和正文。</p>
<h4 id="_15">响应体断言</h4>
<h5 id="json">json 格式断言</h5>
<p>假设某个 get 请求 (http://localhost:8080/lotto) 返回 JSON 如下：</p>
<pre><code class="language-json">{
&quot;lotto&quot;:{
 &quot;lottoId&quot;:5,
 &quot;winning-numbers&quot;:[2,45,34,23,7,5,3],
 &quot;winners&quot;:[{
   &quot;winnerId&quot;:23,
   &quot;numbers&quot;:[2,45,34,23,3,5]
 },{
   &quot;winnerId&quot;:54,
   &quot;numbers&quot;:[52,3,12,11,18,22]
 }]
}
}
</code></pre>
<p>REST assured 可以帮您轻松地进行 get 请求并对响应信息进行处理。</p>
<ul>
<li>断言 lottoId 的值是否等于 5，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/lotto&quot;).then().body(&quot;lotto.lottoId&quot;, equalTo(5));
</code></pre>
<ul>
<li>断言 winnerId 的取值包括 23 和 54，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/lotto&quot;).then().body(&quot;lotto.winners.winnerId&quot;, hasItems(23, 54));
</code></pre>
<blockquote>
<p>提醒一下：<code>equalTo</code> 和 <code>hasItems</code>是 Hamcrest matchers 提供的方法，所以需要静态导入入 <code>org.hamcrest.Matchers</code>。</p>
</blockquote>
<h5 id="xml">xml 格式断言</h5>
<p>XML 可以一种通过简单的方式解析。假设一个 POST 请求<code>http://localhost:8080/greetXML</code>返回：</p>
<pre><code class="language-xml">&lt;greeting&gt;
   &lt;firstName&gt;{params(&quot;firstName&quot;)}&lt;/firstName&gt;
   &lt;lastName&gt;{params(&quot;lastName&quot;)}&lt;/lastName&gt;
&lt;/greeting&gt;
</code></pre>
<ul>
<li>断言 firstName 是否返回正确，示例：</li>
</ul>
<pre><code class="language-java">given().
         parameters(&quot;firstName&quot;, &quot;John&quot;, &quot;lastName&quot;, &quot;Doe&quot;).
when().
         post(&quot;/greetXML&quot;).
then().
         body(&quot;greeting.firstName&quot;, equalTo(&quot;John&quot;)).
</code></pre>
<ul>
<li>同时断言 firstname 和 lastname 是否返回正确，示例：</li>
</ul>
<pre><code class="language-java">given().
         parameters(&quot;firstName&quot;, &quot;John&quot;, &quot;lastName&quot;, &quot;Doe&quot;).
when().
         post(&quot;/greetXML&quot;).
then().
         body(&quot;greeting.firstName&quot;, equalTo(&quot;John&quot;)).
         body(&quot;greeting.lastName&quot;, equalTo(&quot;Doe&quot;));
</code></pre>
<pre><code class="language-java">with().parameters(&quot;firstName&quot;, &quot;John&quot;, &quot;lastName&quot;, &quot;Doe&quot;).when().post(&quot;/greetXML&quot;).then().body(&quot;greeting.firstName&quot;, equalTo(&quot;John&quot;), &quot;greeting.lastName&quot;, equalTo(&quot;Doe&quot;));
</code></pre>
<h4 id="cookie">Cookie 断言</h4>
<ul>
<li>断言 cookie 的值是否等于 cookieValue，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().cookie(&quot;cookieName&quot;, &quot;cookieValue&quot;)
</code></pre>
<ul>
<li>同时断言 多个 cookie 的值是否等于 cookieValue，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().cookies(&quot;cookieName1&quot;, &quot;cookieValue1&quot;, &quot;cookieName2&quot;, &quot;cookieValue2&quot;)
</code></pre>
<ul>
<li>断言 cookie 的值是否包含 cookieValue，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().cookies(&quot;cookieName1&quot;, &quot;cookieValue1&quot;, &quot;cookieName2&quot;, containsString(&quot;Value2&quot;))
</code></pre>
<h4 id="status-code">状态码 Status Code 断言</h4>
<ul>
<li>断言 状态码是否等于 200，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().statusCode(200)
</code></pre>
<ul>
<li>断言 状态行是否为 something，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().statusLine(&quot;something&quot;)
</code></pre>
<ul>
<li>断言 状态行是否包含 some，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().statusLine(containsString(&quot;some&quot;))
</code></pre>
<h4 id="header">Header 断言</h4>
<ul>
<li>断言 Header 的值是否等于 HeaderValue，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().header(&quot;headerName&quot;, &quot;headerValue&quot;)
</code></pre>
<ul>
<li>同时断言 多个 Header 的值是否等于 HeaderValue，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().headers(&quot;headerName1&quot;, &quot;headerValue1&quot;, &quot;headerName2&quot;, &quot;headerValue2&quot;)
</code></pre>
<ul>
<li>断言 Header 的值是否包含 HeaderValue，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().headers(&quot;headerName1&quot;, &quot;headerValue1&quot;, &quot;headerName2&quot;, containsString(&quot;Value2&quot;))
</code></pre>
<ul>
<li>断言 Header 的“Content-Length”小于 1000，示例：</li>
</ul>
<blockquote>
<p>可以先使用映射函数首先将头值转换为 int，然后在使用 Hamcrest 验证前使用“整数”匹配器进行断言：</p>
</blockquote>
<pre><code class="language-java">get(&quot;/something&quot;).then().assertThat().header(&quot;Content-Length&quot;, Integer::parseInt, lessThan(1000));
</code></pre>
<h4 id="content-type">Content-Type 断言</h4>
<ul>
<li>断言 Content-Type 的值是否等于 application/json，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().contentType(ContentType.JSON)
</code></pre>
<h4 id="_16">内容全匹配断言</h4>
<ul>
<li>断言 响应体是否完全等于 something，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().assertThat().body(equalTo(&quot;something&quot;))
</code></pre>
<h4 id="_17">响应时间断言</h4>
<blockquote>
<p>REST Assured  2.8.0 开始支持测量响应时间，例如：</p>
</blockquote>
<pre><code class="language-java">long timeInMs = get(&quot;/lotto&quot;).time()
</code></pre>
<p>或使用特定时间单位：</p>
<pre><code class="language-java">long timeInSeconds = get(&quot;/lotto&quot;).timeIn(SECONDS);

</code></pre>
<p>其中 SECONDS 只是一个标准的 TimeUnit。您还可以使用 DSL 验证：</p>
<pre><code class="language-java">when().
      get(&quot;/lotto&quot;).
then().
      time(lessThan(2000L)); // Milliseconds
</code></pre>
<p>或</p>
<pre><code class="language-java">when().
      get(&quot;/lotto&quot;).
then().
      time(lessThan(2L), SECONDS);
</code></pre>
<p>需要注意的是，您只能参考性地将这些测量数据与服务器请求处理时间相关联（因为响应时间将包括 HTTP 往返和 REST Assured 处理时间等，不能做到十分准确）。</p>
<h3 id="_18">文件上传</h3>
<p>通常我们在向服务器传输大容量的数据时，比如文件时会使用 multipart 表单数据技术。
rest-assured 提供了一种<code>multiPart</code>方法来辨别这究竟是文件、二进制序列、输入流还是上传的文本。</p>
<ul>
<li>表单中上只传一个文件，示例：</li>
</ul>
<pre><code class="language-java">given().
        multiPart(new File(&quot;/path/to/file&quot;)).
when().
        post(&quot;/upload&quot;);
</code></pre>
<ul>
<li>存在 control 名的情况下上传文件，示例：</li>
</ul>
<pre><code class="language-java">given().
        multiPart(&quot;controlName&quot;, new File(&quot;/path/to/file&quot;)).
when().
        post(&quot;/upload&quot;);
</code></pre>
<ul>
<li>同一个请求中存在多个"multi-parts"事务，示例：</li>
</ul>
<pre><code class="language-java">byte[] someData = ..
given().
        multiPart(&quot;controlName1&quot;, new File(&quot;/path/to/file&quot;)).
        multiPart(&quot;controlName2&quot;, &quot;my_file_name.txt&quot;, someData).
        multiPart(&quot;controlName3&quot;, someJavaObject, &quot;application/json&quot;).
when().
        post(&quot;/upload&quot;);
</code></pre>
<ul>
<li>MultiPartSpecBuilder 用法，示例：</li>
</ul>
<blockquote>
<p>更多使用方法可以使用<a href="http://static.javadoc.io/io.rest-assured/rest-assured/3.0.1/io/restassured/builder/MultiPartSpecBuilder.html">MultiPartSpecBuilder</a>：</p>
</blockquote>
<pre><code class="language-java">Greeting greeting = new Greeting();
greeting.setFirstName(&quot;John&quot;);
greeting.setLastName(&quot;Doe&quot;);

given().
        multiPart(new MultiPartSpecBuilder(greeting, ObjectMapperType.JACKSON_2)
                .fileName(&quot;greeting.json&quot;)
                .controlName(&quot;text&quot;)
                .mimeType(&quot;application/vnd.custom+json&quot;).build()).
when().
        post(&quot;/multipart/json&quot;).
then().
        statusCode(200);
</code></pre>
<ul>
<li>MultiPartConfig 用法，示例：</li>
</ul>
<blockquote>
<p><a href="http://static.javadoc.io/io.rest-assured/rest-assured/3.0.1/io/restassured/config/MultiPartConfig.html">MultiPartConfig</a>可用来指定默认的 control 名和文件名</p>
</blockquote>
<pre><code class="language-java">given().config(config().multiPartConfig(multiPartConfig().defaultControlName(&quot;something-else&quot;)))  
</code></pre>
<blockquote>
<p>默认把 control 名配置为"something-else"而不是"file"。
更多用法查看 <a href="http://blog.jayway.com/2011/09/15/multipart-form-data-file-uploading-made-simple-with-rest-assured/">博客介绍</a></p>
</blockquote>
<h3 id="logging">Logging 日志</h3>
<p>当我们在编写接口测试脚本的时候，我们可能需要在测试过程中打印一些日志，以便于我们在测试过程中查看接口的请求和响应信息，以及一些其他的信息。RestAssured 提供了一些方法来打印日志，我们可以根据需要选择合适的方法来打印日志。</p>
<ul>
<li>
<p>RestAssured 提供了一个全局的日志配置方法，可以在测试开始前配置日志，然后在测试过程中打印日志。这种方法适用于所有的测试用例，但是它只能打印请求和响应的信息，不能打印其他的信息。</p>
</li>
<li>
<p>RestAssured 还提供了一个局部的日志配置方法，可以在测试过程中打印日志。这种方法可以打印请求和响应的信息，也可以打印其他的信息。</p>
</li>
</ul>
<h4 id="_19">全局日志配置</h4>
<h5 id="_20">添加全局日志步骤</h5>
<ul>
<li>引入日志相关的依赖类</li>
</ul>
<pre><code class="language-java">import io.restassured.config.LogConfig;
import io.restassured.filter.log.LogDetail;
import io.restassured.filter.log.RequestLoggingFilter;
import io.restassured.filter.log.ResponseLoggingFilter;
</code></pre>
<ul>
<li>在 setup() 方法中添加日志配置</li>
</ul>
<blockquote>
<p>使用 LogConfig 配置，启用了请求和响应的日志记录，以及启用了漂亮的输出格式。启用了请求和响应的日志记录过滤器，这将记录请求和响应的详细信息。</p>
</blockquote>
<pre><code class="language-java">// 启用全局请求和响应日志记录
        RestAssured.config = RestAssured.config()
                .logConfig(LogConfig.logConfig()
                        .enableLoggingOfRequestAndResponseIfValidationFails(LogDetail.ALL)
                        .enablePrettyPrinting(true));
</code></pre>
<ul>
<li>在 setup() 方法中启用了全局日志记录过滤器</li>
</ul>
<pre><code class="language-java">// 启用全局请求和响应日志记录过滤器
    RestAssured.filters(new RequestLoggingFilter(), new ResponseLoggingFilter());
</code></pre>
<h5 id="_21">全局日志代码示例</h5>
<pre><code class="language-java">package com.example;

import io.restassured.RestAssured;
// 引入日志相关的类
import io.restassured.config.LogConfig;
import io.restassured.filter.log.LogDetail;
import io.restassured.filter.log.RequestLoggingFilter;
import io.restassured.filter.log.ResponseLoggingFilter;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.equalTo;

public class TestDemo {

    @BeforeClass
    public void setup() {
        // 启用全局请求和响应日志记录
        RestAssured.config = RestAssured.config()
                .logConfig(LogConfig.logConfig()
                        .enableLoggingOfRequestAndResponseIfValidationFails(LogDetail.ALL)
                        .enablePrettyPrinting(true));
        // 启用全局请求和响应日志记录过滤器
        RestAssured.filters(new RequestLoggingFilter(), new ResponseLoggingFilter());
    }

    @Test(description = &quot;Verify that the Get Post API returns correctly&quot;)
    public void verifyGetAPI() {
      // 测试用例已省略，可参考 demo
    }

    @Test(description = &quot;Verify that the publish post API returns correctly&quot;)
    public void verifyPostAPI() {
      // 测试用例已省略，可参考 demo
    }
}
</code></pre>
<h5 id="_22">查看全局日志输出</h5>
<ul>
<li>打开本项目的 Terminal 窗口，执行以下命令运行测试脚本</li>
<li>查看日志输出</li>
</ul>
<p><img alt="log-sceenshot1" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/9Mh9Z8.png" /></p>
<h4 id="_23">局部日志配置</h4>
<p>在 RestAssured 中，你可以进行局部日志配置，以便在特定的测试方法或请求中启用或禁用日志记录，而不影响全局配置。</p>
<h5 id="_24">添加日志步骤</h5>
<ul>
<li>在想要打印日志的测试方法中启用了添加日志配置，示例：</li>
</ul>
<pre><code class="language-java">    @Test(description = &quot;Verify that the Get Post API returns correctly&quot;)
    public void verifyGetAPI() {

        // Given
        given()
                .log().everything(true)  // 输出 request 相关日志
                .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)
                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)

                // When
                .when()
                .get(&quot;/posts/1&quot;)

                // Then
                .then()
                .log().everything(true)  // 输出 response 相关日志
                .statusCode(200)
    }
</code></pre>
<h5 id="_25">查看局部日志输出</h5>
<ul>
<li>打开本项目的 Terminal 窗口，执行以下命令运行测试脚本</li>
<li>查看日志输出</li>
</ul>
<p><img alt="report1" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/GxZyyG.png" /></p>
<h4 id="logconfig">LogConfig 配置说明</h4>
<p>在 RestAssured 中，你可以使用 <code>LogConfig</code> 类来配置请求和响应的日志记录。<code>LogConfig</code> 允许你定义日志详细程度、输出格式、输出位置等。以下是一些常见的 <code>LogConfig</code> 配置示例：</p>
<ol>
<li><strong>启用请求和响应的日志记录：</strong></li>
</ol>
<p><code>java
   RestAssured.config = RestAssured.config()
       .logConfig(LogConfig.logConfig().enableLoggingOfRequestAndResponseIfValidationFails(LogDetail.ALL));</code></p>
<p>这将启用请求和响应的日志记录，只有当验证失败时才记录。</p>
<ol>
<li><strong>配置输出级别：</strong></li>
</ol>
<p><code>java
   RestAssured.config = RestAssured.config()
       .logConfig(LogConfig.logConfig().enableLoggingOfRequestAndResponseIfValidationFails(LogDetail.HEADERS));</code></p>
<p>这将只记录请求和响应的头部信息。</p>
<ol>
<li><strong>配置输出位置：</strong></li>
</ol>
<p><code>java
   RestAssured.config = RestAssured.config()
       .logConfig(LogConfig.logConfig().enableLoggingOfRequestAndResponseIfValidationFails(LogDetail.ALL)
           .enablePrettyPrinting(true)
           .defaultStream(FileOutputStream("log.txt")));</code></p>
<p>这将日志记录输出到名为 "log.txt" 的文件。</p>
<ol>
<li><strong>配置漂亮的输出格式：</strong></li>
</ol>
<p><code>java
   RestAssured.config = RestAssured.config()
       .logConfig(LogConfig.logConfig().enableLoggingOfRequestAndResponseIfValidationFails(LogDetail.ALL)
           .enablePrettyPrinting(true));</code></p>
<p>这将启用漂亮的输出格式，使日志更易于阅读。</p>
<p>你可以根据你的具体需求组合这些配置选项，并将其设置为 <code>RestAssured.config</code> 以配置全局的请求和响应日志记录。这将有助于在 RestAssured 中记录和审查请求和响应，以便调试和分析问题。</p>
<h4 id="request-logging">Request Logging 请求日志记录</h4>
<p>从版本 1.5 开始，REST Assured 支持在使用 RequestLoggingFilter 将请求规范发送到服务器之前记录请求规范。请注意，HTTP Builder 和 HTTP Client 可能会添加日志中打印的内容之外的其他标头。筛选器将仅记录请求规范中指定的详细信息。也就是说，您不能将 RequestLoggingFilter 记录的详细信息视为实际发送到服务器的详细信息。此外，后续筛选器可能会在日志记录发生后更改请求。如果您需要记录网络上实际发送的内容，请参阅 HTTP 客户端日志记录文档或使用外部工具，例如 Wireshark。</p>
<p>示例：</p>
<pre><code class="language-java">given().log().all()   // 记录所有请求规范细节，包括参数、标头和正文
given().log().params()   // 只记录请求的参数
given().log().body()   // 只记录请求正文
given().log().headers()   // 只记录请求头
given().log().cookies()   // 只记录请求 cookies
given().log().method()   // 只记录请求方法
given().log().path()   // 只记录请求路径
</code></pre>
<h4 id="response-logging">Response Logging 响应日志记录</h4>
<ul>
<li>只想要打印响应正文，而不考虑状态代码，可以执行以下操作，
示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().log().body()
</code></pre>
<ul>
<li>不管是否发生错误，都将打印响应正文。如果只对在发生错误时打印响应正文感兴趣，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().log().ifError()
</code></pre>
<ul>
<li>在响应中记录所有详细信息，包括状态行、标头和 Cookie，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().log().all()   
</code></pre>
<ul>
<li>在响应中记录只记录状态行、标题或 Cookie，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().log().statusLine()   // 只记录状态行
get(&quot;/x&quot;).then().log().headers()   // 只记录响应头
get(&quot;/x&quot;).then().log().cookies()   // 只记录响应 cookies
</code></pre>
<ul>
<li>配置为仅当状态代码与某个值匹配时才记录响应，示例：</li>
</ul>
<pre><code class="language-java">get(&quot;/x&quot;).then().log().ifStatusCodeIsEqualTo(302)   // 仅在状态代码等于 302 时记录日志
get(&quot;/x&quot;).then().log().ifStatusCodeMatches(matcher)   // 仅在状态代码与提供的配置匹配时才记录日志
</code></pre>
<h4 id="_26">只在验证失败时记录日志</h4>
<ul>
<li>从 REST Assured 2.3.1 开始，只有在验证失败时才能记录请求或响应。要记录请求日志，示例：</li>
</ul>
<pre><code class="language-java">given().log().ifValidationFails()
</code></pre>
<ul>
<li>要记录响应日志，示例：</li>
</ul>
<pre><code class="language-java">then().log().ifValidationFails()
</code></pre>
<ul>
<li>可以使用 LogConfig 同时为请求和响应启用此功能，示例：</li>
</ul>
<pre><code class="language-java">given().config(RestAssured.config().logConfig(logConfig().enableLoggingOfRequestAndResponseIfValidationFails(HEADERS)))
</code></pre>
<blockquote>
<p>如果验证失败，日志仅记录请求头。</p>
</blockquote>
<ul>
<li>另外一个快捷方式，用于在验证失败时为所有请求启用请求和响应的日志记录，示例：</li>
</ul>
<pre><code class="language-java">RestAssured.enableLoggingOfRequestAndResponseIfValidationFails();
</code></pre>
<ul>
<li>从版本 4.5.0 开始，您还可以使用 指定 onFailMessage 测试失败时将显示的消息，示例：</li>
</ul>
<pre><code class="language-java">when().
      get().
then().
      onFailMessage(&quot;Some specific message&quot;).
      statusCode(200);
</code></pre>
<h4 id="header_1">Header 黑名单配置</h4>
<p>从 REST Assured 4.2.0 开始，可以将标头列入黑名单，以便它们不会显示在请求或响应日志中。相反，标头值将替换为 [ BLACKLISTED ] .您可以使用 LogConfig 启用此基于每个标头的功能，示例：</p>
<pre><code class="language-java">given().config(config().logConfig(logConfig().blacklistHeader(&quot;Accept&quot;)))  
</code></pre>
<h3 id="filters">Filters 过滤器</h3>
<p>在 RestAssured 中，你可以使用过滤器来修改请求和响应。过滤器允许你在请求和响应的不同阶段修改请求和响应。例如，你可以在请求之前修改请求，或者在响应之后修改响应。你可以使用过滤器来添加请求头、请求参数、请求体、响应头、响应体等。</p>
<p>过滤器可用于实现自定义身份验证方案、会话管理、日志记录等。若要创建筛选器，需要实现 io.restassured.filter.Filter 接口。要使用过滤器，您可以执行以下操作：</p>
<pre><code class="language-java">given().filter(new MyFilter())  
</code></pre>
<p>REST Assured 提供了几个可供使用的过滤器：</p>
<ul>
<li><code>io.restassured.filter.log.RequestLoggingFilter</code> ：将打印请求规范详细信息的筛选器。</li>
<li><code>io.restassured.filter.log.ResponseLoggingFilter</code> ：如果响应与给定状态代码匹配，则将打印响应详细信息的筛选器。</li>
<li><code>io.restassured.filter.log.ErrorLoggingFilter</code> ：在发生错误时打印响应正文的筛选器（状态代码介于 400 和 500 之间）。</li>
</ul>
<h4 id="ordered-filters">Ordered Filters 有序过滤器</h4>
<p>从 REST Assured 3.0.2 开始，如果需要控制筛选器排序，可以实现 io.restassured.filter.OrderedFilter 接口。在这里，您将实现返回一个整数的方法，getOrder 该整数表示筛选器的优先级。值越低，优先级越高。您可以定义的最高优先级是 Integer.MIN_VALUE，最低优先级是 Integer.MAX_VALUE。未实现 io.restassured.filter.OrderedFilter 的过滤器的默认优先级为 1000。</p>
<p><a href="https://github.com/rest-assured/rest-assured/blob/master/examples/rest-assured-itest-java/src/test/java/io/restassured/itest/java/OrderedFilterITest.java">示例</a></p>
<h4 id="response-builder">Response Builder 响应生成器</h4>
<p>如果需要更改筛选器中的响应内容，可以使用 ResponseBuilder 基于原始响应创建新的响应。例如，如果要将原始响应的正文更改为其他内容，可以执行以下操作：</p>
<pre><code class="language-java">Response newResponse = new ResponseBuilder().clone(originalResponse).setBody(&quot;Something&quot;).build();
</code></pre>
<h3 id="_27">持续集成</h3>
<h4 id="github-action">接入 github action</h4>
<p>以 github action 为例，其他 CI 工具类似</p>
<h5 id="gradle-github-action">Gradle 版本接入 github action</h5>
<p>可参考 demo：<a href="https://github.com/Automation-Test-Starter/RestAssured-gradle-demo">https://github.com/Automation-Test-Starter/RestAssured-gradle-demo</a></p>
<p>创建.github/workflows 目录：在你的 GitHub 仓库中，创建一个名为 .github/workflows 的目录。这将是存放 GitHub Actions 工作流程文件的地方。</p>
<p>创建工作流程文件：在.github/workflows 目录中创建一个 YAML 格式的工作流程文件，例如 gradle.yml。</p>
<p>编辑 gradle.yml 文件：将以下内容复制到文件中</p>
<pre><code class="language-yaml">name: Gradle and REST Assured Tests

on:
  push:
    branches: [ &quot;main&quot; ]
  pull_request:
    branches: [ &quot;main&quot; ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Setup Java
        uses: actions/setup-java@v3
        with:
          java-version: '11'
          distribution: 'adopt'

      - name: Build and Run REST Assured Tests with Gradle
        uses: gradle/gradle-build-action@bd5760595778326ba7f1441bcf7e88b49de61a25 # v2.6.0
        with:
          arguments: build

      - name: Archive REST-Assured results
        uses: actions/upload-artifact@v2
        with:
          name: REST-Assured-results
          path: build/reports/tests/test

      - name: Upload REST-Assured results to GitHub
        uses: actions/upload-artifact@v2
        with:
          name: REST-Assured-results
          path: build/reports/tests/test
</code></pre>
<ul>
<li>提交代码：将 gradle.yml 文件添加到仓库中并提交。</li>
<li>查看测试报告：在 GitHub 中，导航到你的仓库。单击上方的 Actions 选项卡，然后单击左侧的 Gradle and REST Assured Tests 工作流。你应该会看到工作流正在运行，等待执行完成，就可以查看结果。</li>
</ul>
<p><img alt="gradle-test-report3" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/gradle-report3.png" /></p>
<h5 id="maven-github-action">Maven 版本接入 github action</h5>
<p>可参考 demo：<a href="https://github.com/Automation-Test-Starter/RestAssured-maven-demo">https://github.com/Automation-Test-Starter/RestAssured-maven-demo</a></p>
<p>创建.github/workflows 目录：在你的 GitHub 仓库中，创建一个名为 .github/workflows 的目录。这将是存放 GitHub Actions 工作流程文件的地方。</p>
<p>创建工作流程文件：在.github/workflows 目录中创建一个 YAML 格式的工作流程文件，例如 maven.yml。</p>
<p>编辑 maven.yml 文件：将以下内容复制到文件中</p>
<pre><code class="language-yaml">name: Maven and REST Assured Tests

on:
  push:
    branches: [ &quot;main&quot; ]
  pull_request:
    branches: [ &quot;main&quot; ]

jobs:
  Run-Rest-Assured-Tests:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    - name: Set up JDK 17
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'
        cache: maven

    - name: Build and Run REST Assured Tests with Maven
      run: mvn test

    - name: Archive REST-Assured results
      uses: actions/upload-artifact@v3
      with:
        name: REST-Assured-results
        path: target/surefire-reports

    - name: Upload REST-Assured results to GitHub
      uses: actions/upload-artifact@v3
      with:
        name: REST-Assured-results
        path: target/surefire-reports
</code></pre>
<ul>
<li>提交代码：将 maven.yml 文件添加到仓库中并提交。</li>
<li>查看测试报告：在 GitHub 中，导航到你的仓库。单击上方的 Actions 选项卡，然后单击左侧的 Maven and REST Assured Tests 工作流。你应该会看到工作流正在运行，等待执行完成，就可以查看结果。</li>
</ul>
<p><img alt="maven-test-report3" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/maven-report3.png" /></p>
<h3 id="allure">集成 allure 测试报告</h3>
<h4 id="allure_1">allure 简介</h4>
<p>Allure是一个用于生成漂亮、交互式测试报告的开源测试框架。它可以与多种测试框架（如JUnit、TestNG、Cucumber等）和多种编程语言（如Java、Python、C#等）一起使用。</p>
<p>Allure 测试报告具有以下特点：</p>
<ul>
<li>美观和交互式：Allure 测试报告以美观和交互式的方式呈现测试结果，包括图形、图表和动画。这使得测试报告更容易阅读和理解。</li>
<li>多语言支持：Allure 支持多种编程语言，因此您可以在不同的语言中编写测试，并生成统一的测试报告。
测试用例级别的详细信息：Allure 允许您为每个测试用例添加详细信息，包括描述、类别、标签、附件、历史数据等。这些信息有助于更全面地了解测试结果。</li>
<li>历史趋势分析：Allure 支持测试历史趋势分析，您可以查看测试用例的历史表现，识别问题和改进测试质量。</li>
<li>类别和标签：您可以为测试用例添加类别和标签，以更好地组织和分类测试用例。这使得报告更具可读性。</li>
<li>附件和截图：Allure 允许您附加文件、截图和其他附件，以便更好地记录测试过程中的信息。</li>
<li>集成性：Allure 可以与各种测试框架和构建工具（如 Maven、Gradle）无缝集成，使得生成报告变得简单。</li>
<li>开源社区支持：Allure 是一个开源项目，拥有一个活跃的社区，提供了广泛的文档和支持。这使得它成为许多自动化测试团队的首选工具。</li>
</ul>
<p>Allure 测试报告的主要目标是提供一个清晰、易于阅读的方式来展示测试结果，以帮助开发团队更好地理解测试的状态和质量，快速识别问题，并采取必要的行动。无论您是开发人员、测试人员还是项目经理，Allure 测试报告都能为您提供有用的信息，以改进软件质量和可靠性。</p>
<p>官方网站：<a href="https://docs.qameta.io/allure/">https://docs.qameta.io/allure/</a></p>
<h4 id="_28">集成步骤</h4>
<h5 id="maven-allure">Maven 版本集成 allure</h5>
<ul>
<li>在 POM.xml 中添加 allure 依赖</li>
</ul>
<blockquote>
<p>可 copy 本项目中的 pom.xml 文件内容</p>
</blockquote>
<pre><code class="language-xml">    &lt;!-- https://mvnrepository.com/artifact/io.qameta.allure/allure-testng --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;
      &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;
      &lt;version&gt;2.24.0&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;!-- https://mvnrepository.com/artifact/io.qameta.allure/allure-rest-assured --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;
      &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;
      &lt;version&gt;2.24.0&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre>
<ul>
<li>在 POM.xml 中添加 allure 插件</li>
</ul>
<pre><code class="language-xml">      &lt;plugin&gt;
        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;
        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;
        &lt;version&gt;2.12.0&lt;/version&gt;
        &lt;configuration&gt;
          &lt;resultsDirectory&gt;../allure-results&lt;/resultsDirectory&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
</code></pre>
<ul>
<li>在 src/test/java 下创建用于测试 REST API 的测试代码</li>
</ul>
<blockquote>
<p>以下为 demo 示例，详细部分可参考 项目：<a href="https://github.com/Automation-Test-Starter/RestAssured-maven-demo">https://github.com/Automation-Test-Starter/RestAssured-maven-demo</a></p>
</blockquote>
<pre><code class="language-java">package com.example;

import io.qameta.allure.*;
import io.qameta.allure.restassured.AllureRestAssured;
import org.testng.annotations.Test;
import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.equalTo;

@Epic(&quot;REST API Regression Testing using TestNG&quot;)
@Feature(&quot;Verify that the Get and POST API returns correctly&quot;)
public class TestDemo {

    @Test(description = &quot;To get the details of post with id 1&quot;, priority = 1)
    @Story(&quot;GET Request with Valid post id&quot;)
    @Severity(SeverityLevel.NORMAL)
    @Description(&quot;Test Description : Verify that the GET API returns correctly&quot;)
    public void verifyGetAPI() {

        // Given
        given()
                .filter(new AllureRestAssured()) //设置 AllureRestAssured 过滤器，用来在测试报告中展示请求和响应信息
                .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)
                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)

                // When
                .when()
                .get(&quot;/posts/1&quot;)

                // Then
                .then()
                .statusCode(200)
                // To verify correct value
                .body(&quot;userId&quot;, equalTo(1))
                .body(&quot;id&quot;, equalTo(1))
                .body(&quot;title&quot;, equalTo(&quot;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&quot;))
                .body(&quot;body&quot;, equalTo(&quot;quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto&quot;));
    }

    @Test(description = &quot;To create a new post&quot;, priority = 2)
    @Story(&quot;POST Request&quot;)
    @Severity(SeverityLevel.NORMAL)
    @Description(&quot;Test Description : Verify that the post API returns correctly&quot;)
    public void verifyPostAPI() {        // Given
        given()
                .filter(new AllureRestAssured()) //设置 AllureRestAssured 过滤器，用来在测试报告中展示请求和响应信息
                .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)
                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)

                // When
                .when()
                .body(&quot;{\&quot;title\&quot;: \&quot;foo\&quot;, \&quot;body\&quot;: \&quot;bar\&quot;, \&quot;userId\&quot;: 1\n}&quot;)
                .post(&quot;/posts&quot;)

                // Then
                .then()
                .statusCode(201)
                // To verify correct value
                .body(&quot;userId&quot;, equalTo(1))
                .body(&quot;id&quot;, equalTo(101))
                .body(&quot;title&quot;, equalTo(&quot;foo&quot;))
                .body(&quot;body&quot;, equalTo(&quot;bar&quot;));
    }

}
</code></pre>
<ul>
<li>运行测试并生成 Allure 报告</li>
</ul>
<pre><code class="language-bash">mvn clean test
</code></pre>
<blockquote>
<p>生成的 Allure 报告在项目根目录的 allure-results 文件下</p>
</blockquote>
<ul>
<li>预览 Allure 报告</li>
</ul>
<pre><code class="language-bash">mvn allure:serve
</code></pre>
<blockquote>
<p>运行命令会自动打开浏览器，预览 Allure 报告</p>
</blockquote>
<p><img alt="allure-report" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/JsHrOQ.png" /></p>
<p><img alt="allure-report1" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/ZXgnOD.png" /></p>
<h5 id="gradle-allure">Gradle 版本集成 allure</h5>
<ul>
<li>在 build.gradle 中添加 allure 插件</li>
</ul>
<blockquote>
<p>可 copy 本项目中的 build.gradle 文件内容</p>
</blockquote>
<pre><code class="language-groovy">id(&quot;io.qameta.allure&quot;) version &quot;2.11.2&quot;
</code></pre>
<ul>
<li>在 build.gradle 中添加 allure 依赖</li>
</ul>
<blockquote>
<p>可 copy 本项目中的 build.gradle 文件内容</p>
</blockquote>
<pre><code class="language-groovy">    implementation 'io.qameta.allure:allure-testng:2.24.0' // Add allure report dependency
    implementation 'io.qameta.allure:allure-rest-assured:2.24.0' // Add allure report dependency
</code></pre>
<ul>
<li>在 src/test/java 下创建用于测试 REST API 的测试代码</li>
</ul>
<blockquote>
<p>以下为 demo 示例，详细部分可参考 项目：<a href="https://github.com/Automation-Test-Starter/RestAssured-gradle-demo">https://github.com/Automation-Test-Starter/RestAssured-gradle-demo</a></p>
</blockquote>
<pre><code class="language-java">package com.example;

import io.qameta.allure.*;
import io.qameta.allure.restassured.AllureRestAssured;
import org.testng.annotations.Test;
import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.equalTo;

@Epic(&quot;REST API Regression Testing using TestNG&quot;)
@Feature(&quot;Verify that the Get and POST API returns correctly&quot;)
public class TestDemo {

    @Test(description = &quot;To get the details of post with id 1&quot;, priority = 1)
    @Story(&quot;GET Request with Valid post id&quot;)
    @Severity(SeverityLevel.NORMAL)
    @Description(&quot;Test Description : Verify that the GET API returns correctly&quot;)
    public void verifyGetAPI() {

        // Given
        given()
                .filter(new AllureRestAssured()) //设置 AllureRestAssured 过滤器，用来在测试报告中展示请求和响应信息
                .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)
                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)

                // When
                .when()
                .get(&quot;/posts/1&quot;)

                // Then
                .then()
                .statusCode(200)
                // To verify correct value
                .body(&quot;userId&quot;, equalTo(1))
                .body(&quot;id&quot;, equalTo(1))
                .body(&quot;title&quot;, equalTo(&quot;sunt aut facere repellat provident occaecati excepturi optio reprehenderit&quot;))
                .body(&quot;body&quot;, equalTo(&quot;quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto&quot;));
    }

    @Test(description = &quot;To create a new post&quot;, priority = 2)
    @Story(&quot;POST Request&quot;)
    @Severity(SeverityLevel.NORMAL)
    @Description(&quot;Test Description : Verify that the post API returns correctly&quot;)
    public void verifyPostAPI() {        // Given
        given()
                .filter(new AllureRestAssured()) //设置 AllureRestAssured 过滤器，用来在测试报告中展示请求和响应信息
                .baseUri(&quot;https://jsonplaceholder.typicode.com&quot;)
                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)

                // When
                .when()
                .body(&quot;{\&quot;title\&quot;: \&quot;foo\&quot;, \&quot;body\&quot;: \&quot;bar\&quot;, \&quot;userId\&quot;: 1\n}&quot;)
                .post(&quot;/posts&quot;)

                // Then
                .then()
                .statusCode(201)
                // To verify correct value
                .body(&quot;userId&quot;, equalTo(1))
                .body(&quot;id&quot;, equalTo(101))
                .body(&quot;title&quot;, equalTo(&quot;foo&quot;))
                .body(&quot;body&quot;, equalTo(&quot;bar&quot;));
    }

}
</code></pre>
<ul>
<li>运行测试并生成 Allure 报告</li>
</ul>
<pre><code class="language-bash">gradle clean test 
</code></pre>
<blockquote>
<p>生成的 Allure 报告在项目根目录的 build/allure-results 文件下</p>
</blockquote>
<ul>
<li>预览 Allure 报告</li>
</ul>
<pre><code class="language-bash">gradle allureServe
</code></pre>
<blockquote>
<p>运行命令会自动打开浏览器，预览 Allure 报告</p>
</blockquote>
<p><img alt="allure-report" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/JsHrOQ.png" /></p>
<p><img alt="allure-report1" src="https://cdn.jsdelivr.net/gh/naodeng/blogimg@master/uPic/ZXgnOD.png" /></p>
<h2 id="_29">参考资料</h2>
<ul>
<li>
<p>Rest assured 官方文档：<a href="https://rest-assured.io/">https://rest-assured.io/</a></p>
</li>
<li>
<p>Rest assured 官方 github：<a href="https://github.com/rest-assured/rest-assured">https://github.com/rest-assured/rest-assured</a></p>
</li>
<li>
<p>Rest assured 官方文档中文翻译：<a href="https://github.com/RookieTester/rest-assured-doc">https://github.com/RookieTester/rest-assured-doc</a></p>
</li>
</ul>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! Help us improve this page by using our <a href="..." target="_blank" rel="noopener">feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2016 - 2023 Automation Test Starter
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>